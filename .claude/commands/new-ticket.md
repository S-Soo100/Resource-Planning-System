# 요구사항 티켓 생성

사용자의 자연어 설명을 분석하여 구조화된 GitHub Issue를 생성합니다.

## 사용법

```bash
/new-ticket 발주 목록에서 납품처별 필터가 필요해요
/new-ticket 거래명세서 출력할 때 총액이 안 맞아요
/new-ticket epic: 재고 실사 기능을 만들어야 합니다
```

## 작업 단계

### 1. 요구사항 분석

사용자의 설명을 분석하여 다음을 판단:

**이슈 유형 판단 기준:**
- `epic:` 접두사 또는 여러 기능을 포괄하는 내용 → **Epic**
- "안 돼요", "에러", "버그", "깨져요", "안 맞아요" 등 → **Bug Report**
- "개선", "느려요", "불편", "더 나은", "최적화" 등 → **Improvement**
- 그 외 새로운 기능/화면 요청 → **Feature Request**

**관련 영역 판단:**
- 코드베이스를 탐색하여 관련 파일/컴포넌트 식별
- `/docs` 폴더의 기존 문서 확인하여 비즈니스 컨텍스트 파악
- 관련 영역 태그 결정 (발주, 재고, 판매/구매, 시연, 팀관리, 기준정보, UI/UX)

### 2. 이슈 구조화

판단된 유형에 따라 구조화된 이슈 본문을 작성합니다.

#### Feature Request인 경우:
```markdown
## 해결하려는 문제
(사용자 설명에서 추출)

## 제안하는 해결책
(기술적 분석 기반 제안)

## 사용자 스토리
**As a** (역할)
**I want** (기능)
**So that** (가치)

## 완료 조건 (Acceptance Criteria)
- [ ] 조건1
- [ ] 조건2

## 기술 분석
- 관련 파일: (코드베이스 탐색 결과)
- 예상 작업량: (S/M/L)
- 영향 범위: (관련 컴포넌트 목록)
```

#### Bug Report인 경우:
```markdown
## 버그 설명
(사용자 설명에서 추출)

## 재현 단계 (추정)
1. ...

## 기대 동작
...

## 실제 동작
...

## 기술 분석
- 의심 파일: (코드베이스 탐색 결과)
- 가능한 원인: (코드 분석 기반 추정)
```

#### Epic인 경우:
```markdown
## 비즈니스 배경
### 해결하려는 문제
### 비즈니스 가치
### 대상 사용자

## 범위 (Scope)
### 포함
### 제외

## 하위 User Stories
- [ ] Story 1: ...
- [ ] Story 2: ...
- [ ] Story 3: ...

## Epic 완료 조건
- [ ] ...
```

#### Improvement인 경우:
```markdown
## 현재 동작
(코드베이스 분석 결과)

## 개선 후 동작
(사용자 설명 기반)

## 개선 이유
...

## 기술 분석
- 관련 파일: ...
- 예상 변경 범위: ...
```

### 3. 코드베이스 탐색

이슈 작성 전 반드시 수행:
- `src/components/` 에서 관련 컴포넌트 검색
- `src/hooks/` 에서 관련 훅 검색
- `src/services/` 또는 `src/api/` 에서 관련 API 호출 검색
- `/docs/` 에서 관련 비즈니스 문서 확인
- 기존 유사 코드 패턴 분석하여 기술 제안에 반영

### 4. 사용자 확인

구조화된 이슈 내용을 사용자에게 보여주고:
- 내용이 맞는지 확인
- 수정할 부분이 있는지 질문
- 우선순위 확인

### 5. GitHub Issue 생성

확인이 완료되면 `gh` CLI로 이슈 생성:

```bash
gh issue create \
  --title "[유형] 제목" \
  --label "라벨1,라벨2" \
  --body "구조화된 본문"
```

**라벨 규칙:**
- 유형: `feature`, `bug`, `improvement`, `epic`
- 우선순위: `P0`, `P1`, `P2`, `P3`
- 영역: `order`, `inventory`, `sales`, `demo`, `team`, `master-data`, `ui`
- 상태: `triage` (초기 생성 시)

### 6. 후속 안내

이슈 생성 후 안내:
- 이슈 URL 제공
- Epic인 경우 하위 이슈 생성 제안
- 바로 구현 시작할지 질문
- 구현 시작하면 브랜치 생성 안내: `feature/이슈번호-설명` 또는 `fix/이슈번호-설명`

## 주의사항

- 사용자가 불명확한 요구사항을 말하면 추가 질문으로 명확화
- 코드베이스를 반드시 탐색하여 기술적 맥락을 포함
- KARS의 기존 패턴과 CLAUDE.md 규칙을 준수하는 방향으로 제안
- 이슈 본문은 한국어로 작성
- 생성 전 반드시 사용자 확인을 받을 것
