# KARS ë°œì£¼ ì‹œìŠ¤í…œ êµ¬ì¡° ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

## ğŸ“ íŒŒì¼ êµ¬ì¡°

### í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸

```
src/app/
â”œâ”€â”€ order-guide/          # ë°œì£¼ ê°€ì´ë“œ í˜ì´ì§€
â”œâ”€â”€ orderWheelchair/      # íœ ì²´ì–´ ì „ìš© ë°œì£¼ ìš”ì²­ í˜ì´ì§€
â”œâ”€â”€ orderRequest/         # ê°œë³„ í’ˆëª© ë°œì£¼ ìš”ì²­ í˜ì´ì§€
â”œâ”€â”€ packageOrder/         # íŒ¨í‚¤ì§€ ë°œì£¼ ìš”ì²­ í˜ì´ì§€
â””â”€â”€ orderRecord/          # ë°œì£¼ ê¸°ë¡ ì¡°íšŒ í˜ì´ì§€
```

### ì»´í¬ë„ŒíŠ¸

```
src/components/
â”œâ”€â”€ orderRequest/
â”‚   â””â”€â”€ OrderRequestForm.tsx      # ë°œì£¼ ìš”ì²­ í¼ (ê³µí†µ)
â”œâ”€â”€ orderWheelchair/
â”‚   â””â”€â”€ WheelchairOrderForm.tsx   # íœ ì²´ì–´ ë°œì£¼ ìš”ì²­ í¼ (ê°œë³„ í’ˆëª© ë°œì£¼ì™€ ë™ì¼í•œ êµ¬ì¡°)
â”œâ”€â”€ orderRecord/
â”‚   â”œâ”€â”€ OrderRecordTabs.tsx       # ë°œì£¼ ê¸°ë¡ íƒ­ (ë°ìŠ¤í¬í†±)
â”‚   â”œâ”€â”€ OrderRecordTabsMobile.tsx # ë°œì£¼ ê¸°ë¡ íƒ­ (ëª¨ë°”ì¼)
â”‚   â”œâ”€â”€ OrderEditModal.tsx        # ë°œì£¼ ìˆ˜ì • ëª¨ë‹¬
â”‚   â””â”€â”€ OrderCommentModal.tsx     # ë°œì£¼ ëŒ“ê¸€ ëª¨ë‹¬ (ì˜ˆì •)
â”œâ”€â”€ demonstration/
â”‚   â””â”€â”€ DemonstrationRequestForm.tsx # ì‹œì—° ìš”ì²­ í¼
â””â”€â”€ comment/
    â”œâ”€â”€ CommentList.tsx           # ëŒ“ê¸€ ëª©ë¡ (ì˜ˆì •)
    â”œâ”€â”€ CommentForm.tsx           # ëŒ“ê¸€ ì‘ì„± í¼ (ì˜ˆì •)
    â””â”€â”€ CommentItem.tsx           # ëŒ“ê¸€ ì•„ì´í…œ (ì˜ˆì •)
```

### íƒ€ì… ì •ì˜

```
src/types/(order)/
â”œâ”€â”€ order.ts                    # ë°œì£¼ ê¸°ë³¸ íƒ€ì…
â”œâ”€â”€ orderRecord.ts              # ë°œì£¼ ê¸°ë¡ íƒ€ì…
â”œâ”€â”€ orderRequestFormData.ts     # ë°œì£¼ ìš”ì²­ í¼ ë°ì´í„° íƒ€ì…
â””â”€â”€ orderComment.ts             # ë°œì£¼ ëŒ“ê¸€ íƒ€ì…
```

### í›… ë° ì„œë¹„ìŠ¤

```
src/hooks/
â”œâ”€â”€ useOrder.ts                 # ë°œì£¼ ê´€ë ¨ í›… í†µí•©
â”œâ”€â”€ (useOrder)/
â”‚   â”œâ”€â”€ useOrderQueries.ts      # ë°œì£¼ ì¡°íšŒ í›…
â”‚   â””â”€â”€ useOrderMutations.ts    # ë°œì£¼ ë³€ê²½ í›…
â””â”€â”€ usePackages.ts              # íŒ¨í‚¤ì§€ ê´€ë ¨ í›…

src/services/
â””â”€â”€ orderService.ts             # ë°œì£¼ ì„œë¹„ìŠ¤ ë¡œì§

src/api/
â”œâ”€â”€ order-api.ts                # ë°œì£¼ ê´€ë ¨ API í˜¸ì¶œ
â””â”€â”€ comment-api.ts              # ëŒ“ê¸€ ê´€ë ¨ API í˜¸ì¶œ (ì˜ˆì •)
```

## ğŸ”§ í•µì‹¬ íƒ€ì… ì •ì˜

### OrderStatus

```typescript
enum OrderStatus {
  requested = "requested", // ìš”ì²­ (ì´ˆê¸° ìƒíƒœ)
  approved = "approved", // ìŠ¹ì¸ (1ì°¨ìŠ¹ì¸ê¶Œì)
  rejected = "rejected", // ë°˜ë ¤ (1ì°¨ìŠ¹ì¸ê¶Œì)
  confirmedByShipper = "confirmedByShipper", // ì¶œê³ ì í™•ì¸ (ê´€ë¦¬ì)
  shipmentCompleted = "shipmentCompleted", // ì¶œê³  ì™„ë£Œ (ê´€ë¦¬ì)
  rejectedByShipper = "rejectedByShipper", // ì¶œê³ ì ë°˜ë ¤ (ê´€ë¦¬ì)
}
```

### OrderComment ì¸í„°í˜ì´ìŠ¤

```typescript
interface OrderComment {
  id: number;
  orderId: number;
  userId: number;
  userName: string;
  content: string;
  createdAt: string;
  updatedAt: string;
}
```

### Order ì¸í„°í˜ì´ìŠ¤

```typescript
interface Order {
  id: number;
  userId: number;
  supplierId: number;
  packageId: number;
  warehouseId: number;
  requester: string;
  receiver: string;
  receiverPhone: string;
  receiverAddress: string;
  purchaseDate: string;
  outboundDate: string;
  installationDate: string;
  manager: string;
  status: string;
  memo: string;
  createdAt: string;
  updatedAt: string;
  deletedAt: string | null;
  user: OrderUser;
  supplier: OrderSupplier;
  package: OrderPackage;
  warehouse: OrderWarehouse; // ì¶œê³  ì°½ê³  ì •ë³´
  orderItems: OrderItem[];
  files: OrderFile[];
  comments?: OrderComment[]; // ë°œì£¼ ëŒ“ê¸€ ëª©ë¡
}
```

### OrderRequestFormData

```typescript
type OrderRequestFormData = {
  supplierId?: number | null;
  packageId?: number | null;
  warehouseId?: number | null;
  requester: string;
  receiver: string;
  receiverPhone: string;
  address: string;
  detailAddress: string;
  requestDate: string;
  setupDate: string;
  notes: string;
  manager: string;
};
```

## ğŸ—ï¸ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### OrderRequestForm.tsx

- **ì—­í• **: íŒ¨í‚¤ì§€/ê°œë³„ í’ˆëª©/íœ ì²´ì–´ ë°œì£¼ ê³µí†µ í¼
- **Props**: `isPackageOrder`, `title`, `warehousesList`, `warehouseItems`, `restrictedWarehouseId`, `restrictedCategoryId`
- **ìƒíƒœ**: `formData`, `orderItems`, `files`, `isSubmitting`
- **ê²€ì¦**: í•„ìˆ˜ ì…ë ¥ í•­ëª©, ìµœì†Œ í’ˆëª© ì„ íƒ, ì¬ê³  í™•ì¸
- **ì œí•œì‚¬í•­**: íŠ¹ì • ì°½ê³ /ì¹´í…Œê³ ë¦¬ë¡œ ì œí•œ ê°€ëŠ¥ (íœ ì²´ì–´ ë°œì£¼ ì‹œ ì‚¬ìš©)

### OrderRecordTabs.tsx

- **ì—­í• **: ë°œì£¼ ê¸°ë¡ ì¡°íšŒ ë° ê´€ë¦¬ (ë°ìŠ¤í¬í†±)
- **íƒ­**: ì „ì²´/ë‚´ ë°œì£¼/ê±°ë˜ì²˜ë³„ ë°œì£¼
- **ê¸°ëŠ¥**: í•„í„°ë§, í˜ì´ì§€ë„¤ì´ì…˜, ìƒíƒœ ë³€ê²½, ìˆ˜ì • ëª¨ë‹¬
- **ê¶Œí•œ**: ì‚¬ìš©ìë³„ ì ‘ê·¼ ì œí•œ ë° ê¸°ëŠ¥ ì œì–´
- **ì°½ê³  ì •ë³´**: ì¶œê³ íŒ€ì´ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì¶œê³  ì°½ê³ ëª… í‘œì‹œ
- **UI ê°œì„ ** (v1.7.0):
  - **ìƒì„¸ë³´ê¸° ë²„íŠ¼**: ê¸°ì¡´ í™”ì‚´í‘œ ë²„íŠ¼ì„ ëª…í™•í•œ 'ìƒì„¸ë³´ê¸°' ë²„íŠ¼ìœ¼ë¡œ êµì²´
  - **ì¹´ë“œ í† ê¸€ ê¸°ëŠ¥**: ìƒì„¸ë³´ê¸° ë²„íŠ¼ ì™¸ ì¹´ë“œ í´ë¦­ ì‹œ ë°œì£¼ ê¸°ê°„, ì°½ê³ , ë°°ì†¡ ì£¼ì†Œ, ë‹´ë‹¹ì, í’ˆëª©, ë©”ëª¨ ë“± ìƒì„¸ ì •ë³´ í‘œì‹œ
  - **ë©”ëª¨ í‘œì‹œ**: ë°œì£¼ ë©”ëª¨ë¥¼ ë…¸ë€ìƒ‰ í•˜ì´ë¼ì´íŠ¸ë¡œ ëª…í™•íˆ í‘œì‹œ
  - **í–¥ìƒëœ ì‚¬ìš©ì ê²½í—˜**: í´ë¦­ ì˜ì—­ ë¶„ë¦¬ë¡œ ìƒì„¸ë³´ê¸°ì™€ ì •ë³´ í™•ì¥ ê¸°ëŠ¥ êµ¬ë¶„

### OrderRecordTabsMobile.tsx

- **ì—­í• **: ë°œì£¼ ê¸°ë¡ ì¡°íšŒ (ëª¨ë°”ì¼)
- **ë ˆì´ì•„ì›ƒ**: ì¹´ë“œ í˜•íƒœ, í™•ì¥/ì¶•ì†Œ ê°€ëŠ¥
- **ìµœì í™”**: ëª¨ë°”ì¼ í™”ë©´ì— ë§ëŠ” ê°„ì†Œí™”ëœ ì •ë³´ í‘œì‹œ
- **ì°½ê³  ì •ë³´**: ëª¨ë°”ì¼ì—ì„œë„ ì¶œê³  ì°½ê³ ëª… í‘œì‹œ
- **UI ê°œì„ ** (v1.7.0):
  - **ë°ìŠ¤í¬í†± íŒ¨ë¦¬í‹°**: ë°ìŠ¤í¬í†±ê³¼ ë™ì¼í•œ ì¹´ë“œ í† ê¸€ ë° ìƒì„¸ë³´ê¸° ê¸°ëŠ¥ êµ¬í˜„
  - **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼ í™˜ê²½ì— ìµœì í™”ëœ ì •ë³´ í‘œì‹œ ë° ì¸í„°ë™ì…˜
  - **í„°ì¹˜ ì¹œí™”ì **: ëª¨ë°”ì¼ í„°ì¹˜ ì¸í„°í˜ì´ìŠ¤ì— ë§ëŠ” ë²„íŠ¼ í¬ê¸° ë° ê°„ê²©

### OrderEditModal.tsx

- **ì—­í• **: ë°œì£¼ ì •ë³´ ìˆ˜ì • ëª¨ë‹¬
- **ìˆ˜ì • ê°€ëŠ¥**: ìˆ˜ë ¹ì¸ ì •ë³´, ë°°ì†¡ ì •ë³´, í’ˆëª©/ìˆ˜ëŸ‰, ë©”ëª¨
- **ê¶Œí•œ**:
  - **Admin**: ëª¨ë“  ë°œì£¼ ìˆ˜ì • ê°€ëŠ¥ (ìƒíƒœ ë¬´ê´€)
  - **ì¼ë°˜ ì‚¬ìš©ì**: ìì‹ ì˜ requested ìƒíƒœ ë°œì£¼ë§Œ ìˆ˜ì • ê°€ëŠ¥
- **íŒŒì¼ ê´€ë¦¬**: ê¸°ì¡´ íŒŒì¼ ì‚­ì œ/ë‹¤ìš´ë¡œë“œ, ìƒˆ íŒŒì¼ ì—…ë¡œë“œ
- **ì°½ê³  ì œí•œ**: ê¸°ì¡´ ë°œì£¼ì˜ ì°½ê³  ë³€ê²½ ë¶ˆê°€ (ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™)

## ğŸ”„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

### ë°œì£¼ ì›Œí¬í”Œë¡œìš°

```
1. ì‚¬ìš©ì ë°œì£¼ ìš”ì²­ (requested) â† ì¼ë°˜ ì‚¬ìš©ì: ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ | Admin: ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
   â†“
2. 1ì°¨ìŠ¹ì¸ê¶Œì ê²€í† 
   â”œâ”€ ìŠ¹ì¸ (approved) â† ì¼ë°˜ ì‚¬ìš©ì: ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€ | Admin: ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
   â””â”€ ë°˜ë ¤ (rejected) â† ì¼ë°˜ ì‚¬ìš©ì: ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€ | Admin: ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
   â†“
3. ê´€ë¦¬ì ì¶œê³  ì²˜ë¦¬
   â”œâ”€ ì¶œê³ ì í™•ì¸ (confirmedByShipper) â† ì¼ë°˜ ì‚¬ìš©ì: ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€ | Admin: ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
   â”œâ”€ ì¶œê³  ì™„ë£Œ (shipmentCompleted) â† ì¼ë°˜ ì‚¬ìš©ì: ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€ | Admin: ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
   â””â”€ ì¶œê³  ë°˜ë ¤ (rejectedByShipper) â† ì¼ë°˜ ì‚¬ìš©ì: ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€ | Admin: ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
```

### íœ ì²´ì–´ ë°œì£¼ ì‹œìŠ¤í…œ

íœ ì²´ì–´ ë°œì£¼ëŠ” ê¸°ì¡´ ê°œë³„ í’ˆëª© ë°œì£¼ ì‹œìŠ¤í…œê³¼ ë™ì¼í•œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë˜, ë‹¤ìŒê³¼ ê°™ì€ ì œí•œì‚¬í•­ì„ ê°€ì§‘ë‹ˆë‹¤:

#### íœ ì²´ì–´ ë°œì£¼ íŠ¹ì§•

- **ì°½ê³  ì œí•œ**: íœ ì²´ì–´ ì „ìš© ì°½ê³ ë¡œë§Œ ë°œì£¼ ê°€ëŠ¥
- **ì¹´í…Œê³ ë¦¬ ì œí•œ**: íœ ì²´ì–´ ì¹´í…Œê³ ë¦¬ì˜ í’ˆëª©ë§Œ ì„ íƒ ê°€ëŠ¥
- **ì›Œí¬í”Œë¡œìš°**: ê¸°ì¡´ ë°œì£¼ ì‹œìŠ¤í…œê³¼ ë™ì¼í•œ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤
- **ê¶Œí•œ**: ê¸°ì¡´ ë°œì£¼ ì‹œìŠ¤í…œê³¼ ë™ì¼í•œ ê¶Œí•œ ì²´ê³„ ì ìš©

#### íœ ì²´ì–´ ë°œì£¼ êµ¬í˜„ ë°©ì‹

```typescript
// WheelchairOrderForm.tsxì—ì„œ OrderRequestForm ì»´í¬ë„ŒíŠ¸ë¥¼ ì¬ì‚¬ìš©
<OrderRequestForm
  isPackageOrder={false}
  title="íœ ì²´ì–´ ë°œì£¼"
  warehousesList={wheelchairWarehouses} // íœ ì²´ì–´ ì „ìš© ì°½ê³ ë§Œ í•„í„°ë§
  warehouseItems={wheelchairItems} // íœ ì²´ì–´ ì¹´í…Œê³ ë¦¬ í’ˆëª©ë§Œ í•„í„°ë§
  restrictedWarehouseId={WHEELCHAIR_WAREHOUSE_ID} // íŠ¹ì • ì°½ê³  IDë¡œ ì œí•œ
  restrictedCategoryId={WHEELCHAIR_CATEGORY_ID} // íŠ¹ì • ì¹´í…Œê³ ë¦¬ IDë¡œ ì œí•œ
/>
```

#### íœ ì²´ì–´ ë°œì£¼ í˜ì´ì§€ êµ¬í˜„

- **ê²½ë¡œ**: `/orderWheelchair`
- **ì»´í¬ë„ŒíŠ¸**: `WheelchairOrderForm.tsx`
- **ê¸°ëŠ¥**: ê¸°ì¡´ `OrderRequestForm` ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©
- **ì œí•œì‚¬í•­**:
  - ì°½ê³  ì„ íƒ ë¶ˆê°€ (íœ ì²´ì–´ ì „ìš© ì°½ê³ ë¡œ ê³ ì •)
  - ì¹´í…Œê³ ë¦¬ ì„ íƒ ë¶ˆê°€ (íœ ì²´ì–´ ì¹´í…Œê³ ë¦¬ë¡œ ê³ ì •)
  - í•´ë‹¹ ì°½ê³ ì˜ íœ ì²´ì–´ ì¹´í…Œê³ ë¦¬ í’ˆëª©ë§Œ í‘œì‹œ

### ë°œì£¼ ìˆ˜ì •/ì‚­ì œ ê¶Œí•œ ì œì–´

#### ê¶Œí•œë³„ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ ì¡°ê±´

**Admin ì‚¬ìš©ì:**

- ëª¨ë“  ë°œì£¼ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ (ìƒíƒœ ë¬´ê´€)
- ë³¸ì¸/íƒ€ì¸ ë°œì£¼ êµ¬ë¶„ ì—†ìŒ

**ì¼ë°˜ ì‚¬ìš©ì:**

- ìì‹ ì´ ì‘ì„±í•œ ë°œì£¼ë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
- `requested` (ìŠ¹ì¸ ì´ì „) ìƒíƒœì—ì„œë§Œ ê°€ëŠ¥

#### ìˆ˜ì •/ì‚­ì œ ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤

| ì‚¬ìš©ì íƒ€ì…     | ë³¸ì¸ ë°œì£¼ (requested) | íƒ€ì¸ ë°œì£¼ (requested) | ë³¸ì¸ ë°œì£¼ (ìŠ¹ì¸ë¨) | íƒ€ì¸ ë°œì£¼ (ìŠ¹ì¸ë¨) |
| --------------- | --------------------- | --------------------- | ------------------ | ------------------ |
| **ì¼ë°˜ ì‚¬ìš©ì** | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥     | âŒ ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€     | âŒ ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€  | âŒ ìˆ˜ì •/ì‚­ì œ ë¶ˆê°€  |
| **Admin**       | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥     | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥     | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥  | âœ… ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥  |

- **ì‚­ì œ í™•ì¸**: ë°œì£¼ì, ìˆ˜ë ¹ì, ìƒíƒœ ì •ë³´ì™€ í•¨ê»˜ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
- **ì‹¤ì‹œê°„ ë°˜ì˜**: ìˆ˜ì •/ì‚­ì œ í›„ ë°œì£¼ ëª©ë¡ ìë™ ìƒˆë¡œê³ ì¹¨

#### ëª¨ë‹¬ ì ‘ê·¼ ê¶Œí•œ ì„¸ë¶€ ì‚¬í•­

**OrderEditModal ì§„ì… ì¡°ê±´:**

- **Admin**: ëª¨ë“  ë°œì£¼ì— ëŒ€í•´ ìˆ˜ì • ëª¨ë‹¬ ì§„ì… ê°€ëŠ¥
- **ì¼ë°˜ ì‚¬ìš©ì**: ìì‹ ì˜ requested ìƒíƒœ ë°œì£¼ë§Œ ìˆ˜ì • ëª¨ë‹¬ ì§„ì… ê°€ëŠ¥

**ê¶Œí•œ ê²€ì¦ íë¦„:**

1. **OrderRecordTabs**: ìˆ˜ì • ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€ ê²°ì •
2. **OrderEditModal**: ëª¨ë‹¬ ë‚´ë¶€ì—ì„œ ì¬ê²€ì¦ í›„ í¼ í™œì„±í™”
3. **ì—ëŸ¬ ë©”ì‹œì§€**:
   - **Admin**: ëª¨ë“  ë°œì£¼ì—ì„œ ìˆ˜ì • í¼ í™œì„±í™” (ì—ëŸ¬ ë©”ì‹œì§€ ì—†ìŒ)
   - **ì¼ë°˜ ì‚¬ìš©ì**: ê¶Œí•œ ì—†ëŠ” ê²½ìš° "ìˆ˜ì • ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤." ë˜ëŠ” "ìš”ì²­ ìƒíƒœê°€ ì•„ë‹Œ ì£¼ë¬¸ì€ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤." í‘œì‹œ

### ê¶Œí•œë³„ ê¸°ëŠ¥ ì œí•œ

#### ë°œì£¼ ìƒíƒœ ë³€ê²½ ê¶Œí•œ

**Admin:**
- **ëª¨ë“  ìƒíƒœ** ë³€ê²½ ê°€ëŠ¥ (requested, approved, rejected, confirmedByShipper, shipmentCompleted, rejectedByShipper)
- ëª¨ë“  ë°œì£¼ ê±´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŒ
- ì¶œê³  ì™„ë£Œ(shipmentCompleted) ìƒíƒœì˜ ë°œì£¼ë„ ë³€ê²½ ê°€ëŠ¥

**Moderator:**
- **ì´ˆê¸° ìŠ¹ì¸ ë‹¨ê³„**ë§Œ ë³€ê²½ ê°€ëŠ¥ (requested, approved, rejected)
- ë³¸ì¸ì´ ì‘ì„±í•œ ë°œì£¼ëŠ” ìŠ¹ì¸/ë°˜ë ¤ ë¶ˆê°€ (ì´í•´ ì¶©ëŒ ë°©ì§€)
- ì¶œê³  ë‹¨ê³„ ìƒíƒœëŠ” ë³€ê²½ ë¶ˆê°€

**User/Supplier:**
- ìƒíƒœ ë³€ê²½ ê¶Œí•œ ì—†ìŒ (ì¡°íšŒë§Œ ê°€ëŠ¥)

#### ë°œì£¼ ìˆ˜ì •/ì‚­ì œ ê¶Œí•œ

- **User**: ë°œì£¼ ìš”ì²­, ìì‹ ì˜ ë°œì£¼ ì¡°íšŒ, ìì‹ ì˜ requested ìƒíƒœ ë°œì£¼ ìˆ˜ì • ê°€ëŠ¥
- **Moderator**: ë°œì£¼ ìŠ¹ì¸/ë°˜ë ¤, ì „ì²´ ë°œì£¼ ì¡°íšŒ, ìì‹ ì˜ requested ìƒíƒœ ë°œì£¼ ìˆ˜ì • ê°€ëŠ¥
- **Admin**: ëª¨ë“  ë°œì£¼ ê´€ë¦¬, ëª¨ë“  ìƒíƒœ ë³€ê²½ ê°€ëŠ¥, ëª¨ë“  ë°œì£¼ ìˆ˜ì •/ì‚­ì œ (ìƒíƒœ ë¬´ê´€)
- **Supplier**: ê´€ë ¨ ë°œì£¼ ì¡°íšŒë§Œ ê°€ëŠ¥

**ë°œì£¼ ì‚­ì œ ê¶Œí•œ:**
- **Admin ì „ìš©**: ìƒíƒœì™€ ë¬´ê´€í•˜ê²Œ ëª¨ë“  ë°œì£¼ ì‚­ì œ ê°€ëŠ¥
- ì‚­ì œ ë²„íŠ¼ì€ ë°œì£¼ ìƒì„¸ í˜ì´ì§€ì—ë§Œ í‘œì‹œë¨ (ëª©ë¡ í˜ì´ì§€ì—ëŠ” ë…¸ì¶œë˜ì§€ ì•ŠìŒ)
- ì‚­ì œ ì‹œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ë¡œ ë°œì£¼ì, ìˆ˜ë ¹ì, ìƒíƒœ ì •ë³´ í‘œì‹œ

#### ìƒíƒœ ë³€ê²½ ë§¤íŠ¸ë¦­ìŠ¤

| ê¶Œí•œ | requested | approved | rejected | confirmedByShipper | shipmentCompleted | rejectedByShipper |
|------|-----------|----------|----------|--------------------|-------------------|-------------------|
| **Admin** | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| **Moderator** | âœ… | âœ… (ë³¸ì¸ ë°œì£¼ ì œì™¸) | âœ… (ë³¸ì¸ ë°œì£¼ ì œì™¸) | âŒ | âŒ | âŒ |
| **User** | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| **Supplier** | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |

### ì¬ê³  í™•ì¸ ë¡œì§

- ì¶œê³  ê´€ë ¨ ìƒíƒœ ë³€ê²½ ì‹œ ì¬ê³  ìˆ˜ëŸ‰ í™•ì¸
- ì¬ê³  ë¶€ì¡± ì‹œ ìƒì„¸í•œ ë¶€ì¡± í’ˆëª© ëª©ë¡ê³¼ í•¨ê»˜ ì—ëŸ¬ ë©”ì‹œì§€
- íŒ¨í‚¤ì§€ ë°œì£¼ ì‹œ íŒ¨í‚¤ì§€ ë‚´ ëª¨ë“  í’ˆëª©ì˜ ì¬ê³  í™•ì¸

### íŒ¨í‚¤ì§€ ê´€ë¦¬

- íŒ¨í‚¤ì§€ ì„ íƒ ì‹œ ìë™ìœ¼ë¡œ íŒ¨í‚¤ì§€ ë‚´ í’ˆëª©ë“¤ ì„¤ì •
- íŒ¨í‚¤ì§€ ìˆ˜ëŸ‰ ë³€ê²½ ì‹œ ëª¨ë“  íŒ¨í‚¤ì§€ ì•„ì´í…œ ìˆ˜ëŸ‰ ë™ê¸°í™”
- íŒ¨í‚¤ì§€ ë‚´ ê°œë³„ í’ˆëª© ìˆ˜ì • ë¶ˆê°€ (ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™)

### ì°½ê³  ê´€ë¦¬

- **ì°½ê³  ì •ë³´ í‘œì‹œ**: ë°œì£¼ ê¸°ë¡ì—ì„œ ì¶œê³  ì°½ê³ ëª…ì„ ëª…í™•íˆ í‘œì‹œ
- **ì°½ê³  ë³€ê²½ ì œí•œ**: ê¸°ì¡´ ë°œì£¼ ê±´ì˜ ì°½ê³  ë³€ê²½ ê¸ˆì§€ (ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™)
- **ì°½ê³  ê¶Œí•œ**: ì°½ê³ ë³„ ì ‘ê·¼ ê¶Œí•œ í™•ì¸ ë° ê²€ì¦
- **ì¶œê³  í”„ë¡œì„¸ìŠ¤**: ì¶œê³ íŒ€ì´ ì˜¬ë°”ë¥¸ ì°½ê³ ì—ì„œ ë¬¼í’ˆì„ ì¶œê³ í•  ìˆ˜ ìˆë„ë¡ ì§€ì›

### ëŒ“ê¸€ ê¸°ëŠ¥ ê¶Œí•œë³„ ì œí•œ

- **Admin**: ëª¨ë“  ëŒ“ê¸€ ì¡°íšŒ/ì‘ì„±/ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
- **Moderator**: ëª¨ë“  ëŒ“ê¸€ ì¡°íšŒ/ì‘ì„± ê°€ëŠ¥, ìì‹ ì˜ ëŒ“ê¸€ë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
- **User**: ê´€ë ¨ ë°œì£¼ì˜ ëŒ“ê¸€ ì¡°íšŒ/ì‘ì„± ê°€ëŠ¥, ìì‹ ì˜ ëŒ“ê¸€ë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
- **Supplier**: ìì‹ ì´ ê´€ë ¨ëœ ë°œì£¼ì˜ ëŒ“ê¸€ ì¡°íšŒ/ì‘ì„± ê°€ëŠ¥, ìì‹ ì˜ ëŒ“ê¸€ë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥

### ëŒ“ê¸€ ê´€ë¦¬ ë¡œì§

- **ëŒ“ê¸€ ì‘ì„±**: ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ëŒ“ê¸€ ì‘ì„± ê°€ëŠ¥
- **ëŒ“ê¸€ ì¡°íšŒ**: í•´ë‹¹ ë°œì£¼ì— ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìë§Œ ì¡°íšŒ ê°€ëŠ¥
- **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: ëŒ“ê¸€ ì‘ì„±/ìˆ˜ì •/ì‚­ì œ ì‹œ ê´€ë ¨ ì‚¬ìš©ìë“¤ì—ê²Œ ì‹¤ì‹œê°„ ë°˜ì˜

#### ëŒ“ê¸€ ìˆ˜ì •/ì‚­ì œ ê¶Œí•œ ì„¸ë¶€ ê·œì¹™

| ì‚¬ìš©ì íƒ€ì…     | ë³¸ì¸ ëŒ“ê¸€       | íƒ€ì¸ ëŒ“ê¸€       |
| --------------- | --------------- | --------------- |
| **ì¼ë°˜ ì‚¬ìš©ì** | ìˆ˜ì • âœ… ì‚­ì œ âœ… | ìˆ˜ì • âŒ ì‚­ì œ âŒ |
| **Admin**       | ìˆ˜ì • âœ… ì‚­ì œ âœ… | ìˆ˜ì • âŒ ì‚­ì œ âœ… |

- **ìˆ˜ì • ê¶Œí•œ**: ì˜¤ì§ ëŒ“ê¸€ ì‘ì„±ì ë³¸ì¸ë§Œ ê°€ëŠ¥ (Adminë„ íƒ€ì¸ ëŒ“ê¸€ ìˆ˜ì • ë¶ˆê°€)
- **ì‚­ì œ ê¶Œí•œ**: ì‘ì„±ì ë³¸ì¸ + Adminì€ ëª¨ë“  ëŒ“ê¸€ ì‚­ì œ ê°€ëŠ¥
- **UI í‘œì‹œ**: ê¶Œí•œ ì—†ëŠ” ë²„íŠ¼ì€ í™”ë©´ì— í‘œì‹œë˜ì§€ ì•ŠìŒ

## ğŸ“Š ìƒíƒœ ê´€ë¦¬

### React Query í›…

```typescript
// ë°œì£¼ ì¡°íšŒ
const { useGetOrders } = useOrder();
const { data: orders, isLoading } = useGetOrders(teamId);

// ë°œì£¼ ìƒì„±
const { useCreateOrder } = useOrder();
const { mutate: createOrder } = useCreateOrder();

// ë°œì£¼ ìˆ˜ì •
const { useUpdateOrder } = useOrder();
const { mutate: updateOrder } = useUpdateOrder();

// ë°œì£¼ ìƒíƒœ ë³€ê²½
const { useUpdateOrderStatus } = useOrder();
const { mutate: updateOrderStatus } = useUpdateOrderStatus();

// ëŒ“ê¸€ ì¡°íšŒ (ì˜ˆì •)
const { useGetOrderComments } = useOrderComments();
const { data: comments, isLoading } = useGetOrderComments(orderId);

// ëŒ“ê¸€ ì‘ì„± (ì˜ˆì •)
const { useCreateComment } = useOrderComments();
const { mutate: createComment } = useCreateComment();

// ëŒ“ê¸€ ìˆ˜ì • (ì˜ˆì •)
const { useUpdateComment } = useOrderComments();
const { mutate: updateComment } = useUpdateComment();

// ëŒ“ê¸€ ì‚­ì œ (ì˜ˆì •)
const { useDeleteComment } = useOrderComments();
const { mutate: deleteComment } = useDeleteComment();
```

### ìºì‹œ ê´€ë¦¬

- ì¿¼ë¦¬ í‚¤: `["orders", "team", teamId]`
- ë°œì£¼ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ì‹œ ê´€ë ¨ ì¿¼ë¦¬ ë¬´íš¨í™”
- íŒ€ë³„ ë°ì´í„° ê²©ë¦¬

### ëŒ“ê¸€ ìºì‹œ ê´€ë¦¬

- ì¿¼ë¦¬ í‚¤: `["comments", "order", orderId]`
- ëŒ“ê¸€ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ì‹œ ê´€ë ¨ ëŒ“ê¸€ ì¿¼ë¦¬ ë¬´íš¨í™”
- ë°œì£¼ë³„ ëŒ“ê¸€ ë°ì´í„° ê²©ë¦¬

## ğŸ” ë³´ì•ˆ ë° ê¶Œí•œ

### ì ‘ê·¼ ì œì–´

- íŒ€ ê¸°ë°˜ ë°ì´í„° ê²©ë¦¬
- ê¶Œí•œë³„ ê¸°ëŠ¥ ì œí•œ
- API ë ˆë²¨ ê¶Œí•œ ê²€ì¦

### ë°ì´í„° ê²€ì¦

- í´ë¼ì´ì–¸íŠ¸/ì„œë²„ ì–‘ìª½ ê²€ì¦
- íƒ€ì… ì•ˆì „ì„± ë³´ì¥
- SQL Injection ë°©ì§€

### íŒŒì¼ ì—…ë¡œë“œ

- íŒŒì¼ í¬ê¸° ì œí•œ (50MB)
- íŒŒì¼ëª… ì•ˆì „í™” (í•œê¸€ ì¸ì½”ë”© ë¬¸ì œ í•´ê²°)
- íŒŒì¼ íƒ€ì… ê²€ì¦

### ë°œì£¼ ìƒì„¸ í˜ì´ì§€ ì²¨ë¶€íŒŒì¼ ê´€ë¦¬ (v1.9.1)

ë°œì£¼ ìƒì„¸ í˜ì´ì§€(`/orderRecord/[id]`)ì—ì„œ ì²¨ë¶€íŒŒì¼ ê´€ë¦¬ ê¸°ëŠ¥ì´ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤.

#### ì£¼ìš” ê°œì„ ì‚¬í•­

1. **ì²¨ë¶€íŒŒì¼ ì„¹ì…˜ í•­ìƒ í‘œì‹œ**
   - ê¸°ì¡´: ì²¨ë¶€íŒŒì¼ì´ ìˆì„ ë•Œë§Œ ì„¹ì…˜ í‘œì‹œ
   - ê°œì„ : ì²¨ë¶€íŒŒì¼ 0ê°œì¼ ë•Œë„ ì„¹ì…˜ í‘œì‹œ
   - ì´ìœ : íŒŒì¼ ì¶”ê°€ ë²„íŠ¼ì— í•­ìƒ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ê°œì„ 

2. **ë°œì£¼ ìˆ˜ì • ì—†ì´ íŒŒì¼ ì¶”ê°€/ì‚­ì œ ê°€ëŠ¥**
   - ê¸°ì¡´: ë°œì£¼ ìˆ˜ì • ëª¨ë‹¬ì„ í†µí•´ì„œë§Œ íŒŒì¼ ê´€ë¦¬ ê°€ëŠ¥
   - ê°œì„ : ë°œì£¼ ìƒì„¸ í˜ì´ì§€ì—ì„œ ì§ì ‘ íŒŒì¼ ì¶”ê°€/ì‚­ì œ
   - ê¶Œí•œ: ëª¨ë“  ì‚¬ìš©ìê°€ ì ‘ê·¼í•œ ë°œì£¼ì— ëŒ€í•´ íŒŒì¼ ì¶”ê°€ ê°€ëŠ¥
   - ì‚­ì œ: ì—…ë¡œë“œëœ ëª¨ë“  íŒŒì¼ì— ëŒ€í•´ ì‚­ì œ ë²„íŠ¼ ì œê³µ

#### ì²¨ë¶€íŒŒì¼ ì„¹ì…˜ UI êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ì²¨ë¶€íŒŒì¼ (2)                     [+ íŒŒì¼ ì¶”ê°€]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ ê²¬ì ì„œ.pdf                [ë‹¤ìš´ë¡œë“œ] [ì‚­ì œ]      â”‚
â”‚ ğŸ“„ ê³„ì•½ì„œ.pdf                [ë‹¤ìš´ë¡œë“œ] [ì‚­ì œ]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë˜ëŠ” (íŒŒì¼ì´ ì—†ì„ ë•Œ)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ì²¨ë¶€íŒŒì¼ (0)                     [+ íŒŒì¼ ì¶”ê°€]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì²¨ë¶€ëœ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.                            â”‚
â”‚  ìœ„ì˜ 'íŒŒì¼ ì¶”ê°€' ë²„íŠ¼ì„ ëˆŒëŸ¬ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### íŒŒì¼ ê´€ë¦¬ API

```typescript
// íŒŒì¼ ì—…ë¡œë“œ
const handleFileUpload = async (files: FileList | null) => {
  const response = await uploadMultipleOrderFileById(orderId, fileArray);
  // ì„±ê³µ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ì—…ë°ì´íŠ¸ëœ íŒŒì¼ ëª©ë¡ í‘œì‹œ
};

// íŒŒì¼ ì‚­ì œ
const handleFileDelete = async (fileId: number) => {
  const response = await deleteOrderFile(orderId, fileId);
  // ì„±ê³µ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ì—…ë°ì´íŠ¸ëœ íŒŒì¼ ëª©ë¡ í‘œì‹œ
};
```

#### ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

- **ì¦‰ê°ì ì¸ í”¼ë“œë°±**: íŒŒì¼ ì—…ë¡œë“œ/ì‚­ì œ ì‹œ í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í‘œì‹œ
- **ë¡œë”© ìƒíƒœ**: ì—…ë¡œë“œ ì¤‘ "ì—…ë¡œë“œ ì¤‘...", ì‚­ì œ ì¤‘ "ì‚­ì œ ì¤‘..." í‘œì‹œ
- **í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸**: íŒŒì¼ ì‚­ì œ ì „ í™•ì¸ ìš”ì²­
- **ìë™ ìƒˆë¡œê³ ì¹¨**: íŒŒì¼ ì¶”ê°€/ì‚­ì œ í›„ ìë™ìœ¼ë¡œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ìµœì‹  ìƒíƒœ ë°˜ì˜

#### ê¸°ìˆ ì  êµ¬í˜„

```typescript
// ìƒíƒœ ê´€ë¦¬
const [isUploadingFiles, setIsUploadingFiles] = useState(false);
const [isDeletingFile, setIsDeletingFile] = useState<number | null>(null);

// íŒŒì¼ ì—…ë¡œë“œ í•¸ë“¤ëŸ¬
const handleFileUpload = async (files: FileList | null) => {
  if (!files || files.length === 0 || !order) return;

  setIsUploadingFiles(true);
  try {
    const fileArray = Array.from(files);
    const response = await uploadMultipleOrderFileById(order.id, fileArray);

    if (response.success) {
      toast.success(`${fileArray.length}ê°œ íŒŒì¼ì´ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`);
      window.location.reload();
    }
  } finally {
    setIsUploadingFiles(false);
  }
};

// íŒŒì¼ ì‚­ì œ í•¸ë“¤ëŸ¬
const handleFileDelete = async (fileId: number) => {
  if (!window.confirm("ì´ íŒŒì¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;

  setIsDeletingFile(fileId);
  try {
    const response = await deleteOrderFile(order.id, fileId);

    if (response.success) {
      toast.success("íŒŒì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
      window.location.reload();
    }
  } finally {
    setIsDeletingFile(null);
  }
};
```

#### ì£¼ì˜ì‚¬í•­

- íŒŒì¼ ì—…ë¡œë“œ/ì‚­ì œëŠ” ë°œì£¼ ìˆ˜ì • ê¶Œí•œê³¼ ë¬´ê´€í•˜ê²Œ ë™ì‘
- íŒŒì¼ ì¶”ê°€ ì‹œ ê¸°ì¡´ ë°œì£¼ ì •ë³´ëŠ” ë³€ê²½ë˜ì§€ ì•ŠìŒ
- ëŒ€ìš©ëŸ‰ íŒŒì¼ ì—…ë¡œë“œ ì‹œ ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ ìˆìŒ
- íŒŒì¼ ì‚­ì œëŠ” ì¦‰ì‹œ ë°˜ì˜ë˜ë©° ë³µêµ¬ ë¶ˆê°€ëŠ¥
