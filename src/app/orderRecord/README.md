# 발주 기록 조회 페이지

## 경로
- `/orderRecord` - 발주 기록 목록 (탭 구조)
- `/orderRecord/[id]` - 발주 상세 조회 및 처리
- `/orderRecord/print/[id]` - 발주서 인쇄

## 기능 개요
발주 요청 내역을 상태별로 조회하고 관리할 수 있는 페이지

## 주요 기능

### `/orderRecord` (발주 기록 목록)
1. **탭 기반 발주 조회**
   - OrderRecordTabs 컴포넌트를 통한 상태별 탭 구성
   - 대기, 승인, 완료, 반려 등 상태별 발주 분류

2. **발주 상태 관리**
   - 발주 요청 → 1차 승인 → 2차 승인 → 완료 프로세스
   - 각 단계별 발주 현황 추적

3. **권한별 기능**
   - 일반 사용자: 본인 발주 조회
   - 승인권자: 승인 대기 발주 처리
   - 관리자: 모든 발주 조회 및 관리

### `/orderRecord/[id]` (발주 상세)
1. **발주 상세 정보**
   - 발주 품목, 수량, 금액 등 상세 정보
   - 발주자, 승인자, 처리 이력 등 메타 정보

2. **승인 처리**
   - 승인권자의 발주 승인/반려 처리
   - 승인 코멘트 및 조건 설정

3. **상태 업데이트**
   - 발주 진행 상황 실시간 업데이트
   - 각 단계별 타임스탬프 기록

### `/orderRecord/print/[id]` (발주서 인쇄)
- 발주서를 인쇄용 포맷으로 출력
- PDF 생성 및 다운로드 기능
- 공식 발주서 양식 적용

## 발주 상태 시스템
1. **요청 (Request)**: 사용자가 발주 요청 제출
2. **1차 대기 (Pending)**: 1차 승인자 승인 대기
3. **1차 승인 (Approved)**: 1차 승인 완료, 2차 승인 대기
4. **최종 승인 (Final Approved)**: 모든 승인 완료
5. **완료 (Completed)**: 발주 처리 완료
6. **반려 (Rejected)**: 승인 반려

## 권한별 접근
### 발주 요청자
- 본인이 요청한 발주 조회
- 발주 상태 및 진행 상황 확인
- 반려된 발주의 재요청

### 1차 승인권자 (Moderator)
- 승인 대기 중인 발주 조회
- 발주 승인/반려 처리
- 승인 조건 및 코멘트 설정

### 관리자 (Admin)
- 모든 발주 조회 및 관리
- 발주 프로세스 전체 제어
- 시스템 설정 및 권한 관리

## 컴포넌트 구조
- `OrderRecordTabs`: 발주 기록 탭 컴포넌트
  - 상태별 발주 목록 표시
  - 탭 전환 및 필터링 기능
- 발주 상세 모달: 발주 정보 상세 조회
- 승인 처리 UI: 승인/반려 버튼 및 코멘트

## 기술적 특징
- **탭 기반 UI**: 상태별 발주 분류 및 표시
- **실시간 업데이트**: 발주 상태 변경 시 즉시 반영
- **권한 기반 렌더링**: 사용자 권한에 따른 UI 차별화
- **인쇄 최적화**: 인쇄용 페이지 별도 최적화

## UI/UX 특징
- **상태 표시**: 색상 코딩으로 발주 상태 구분
- **진행 상황**: 프로그레스 바를 통한 진행률 표시
- **알림 시스템**: 발주 상태 변경 시 알림
- **검색/필터**: 발주 번호, 날짜, 상태별 검색

## 비즈니스 로직
1. **승인 프로세스**: 단계별 승인 시스템
2. **타임아웃 처리**: 승인 대기 시간 초과 시 자동 처리
3. **재고 연동**: 승인된 발주의 재고 예약
4. **알림 발송**: 각 단계별 관련자 알림

## 알림 시스템
- **발주 제출 시**: 승인권자에게 알림
- **승인/반려 시**: 요청자에게 알림
- **완료 시**: 모든 관련자에게 알림

## 관련 페이지
- `/orderRequest`: 개별품목 발주 요청
- `/packageOrder`: 패키지 발주 요청
- `/orderWheelchair`: 휠체어 발주 요청